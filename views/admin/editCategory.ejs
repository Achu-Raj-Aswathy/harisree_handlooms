<%- include('./partials/header') %>

<!-- START Wrapper -->

<div class="wrapper">
     <%- include('./partials/adminHeader') %>
     <%- include('./partials/sidebar') %>

          <!-- ==================================================== -->
          <!-- Start right Content here -->
          <!-- ==================================================== -->
          <div class="page-content">

               <!-- Start Container Fluid -->
               <div class="container-xxl">

                    <div class="row">
                        

                         <div class="col-xl-12 col-lg-12 ">
                              <div class="card">
                                  
                                  
              <div class="card-header">
                <h4 class="card-title">Add Thumbnail Photo</h4>
              </div>
              <div class="card-body">
                <!-- File Upload -->
                <input type="file" 
                       name="thumbnail[]" 
                       class="filepond"
                       multiple 
                       data-max-file-size="3MB"
                       data-max-files="5"
                       accept="image/png, image/jpeg, image/gif" />
                <small class="text-muted fs-13 d-block mt-2">
                  1600 x 1200 (4:3) recommended. PNG and JPG  files are allowed.
                </small>
              </div>
            </div>

                                   </div>
                              </div>

                              <div class="card">
                                   <div class="card-header">
                                        <h4 class="card-title">General Information</h4>
                                   </div>
                                   <div class="card-body">
                                        <div class="row">

                                                <div class="col-lg-6">
                                                  <form>
                                                       <div class="mb-3">
                                                            <label for="product-id" class="form-label">Category ID</label>
                                                            <input type="text" id="product-id" class="form-control" placeholder="#******" value="FS16276">
                                                       </div>

                                                  </form>
                                             </div>
                                             <div class="col-lg-6">
                                                  <form>
                                                       <div class="mb-3">
                                                            <label for="category-title" class="form-label">Category Title</label>
                                                            <input type="text" id="category-title" class="form-control" placeholder="Enter Title" value="Fashion Men , Women & Kid's">
                                                       </div>
                                                  </form>
                                             </div>

                                             <!-- <div class="col-lg-6">
                                                  <form>
                                                       <label for="crater" class="form-label">Created By</label>
                                                       <select class="form-control" id="crater" data-choices data-choices-groups data-placeholder="Select Crater">
                                                            <option value="">Select Crater</option>
                                                            <option value="Seller" selected>Seller</option>
                                                            <option value="Admin">Admin</option>
                                                            <option value="Other">Other</option>
                                                       </select>
                                                  </form>
                                             </div> -->
                                             <!-- <div class="col-lg-6">
                                                  <form>
                                                       <div class="mb-3">
                                                            <label for="product-stock" class="form-label">Stock</label>
                                                            <input type="number" id="product-stock" class="form-control" placeholder="Quantity" value="46233">
                                                       </div>

                                                  </form>
                                             </div> -->
                                          
                                             <div class="col-lg-12">
                                                  <div class="mb-0">
                                                       <label for="description" class="form-label">Description</label>
                                                       <textarea class="form-control bg-light-subtle" id="description" rows="7" placeholder="Type description">Aurora Fashion has once again captivated fashion enthusiasts with its latest collection, seamlessly blending elegance with comfort in a range of exquisite designs.</textarea>
                                                  </div>
                                             </div>
                                        </div>
                                   </div>
                              </div>
                            
                              <div class="p-3 bg-light mb-3 rounded">
                                   <div class="row justify-content-end g-2">
                                        <div class="col-lg-2">
                                             <a href="#!" class="btn btn-outline-secondary w-100">Save Change</a>
                                        </div>
                                        <div class="col-lg-2">
                                             <a href="#!" class="btn btn-primary w-100">Cancel</a>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>

              
               <!-- End Container Fluid -->

             

          
          <!-- ==================================================== -->
          <!-- End Page Content -->
          <!-- ==================================================== -->
<%- include('./partials/footer') %>

     </div>
    <!-- ✅ FilePond Styles -->
<link href="https://unpkg.com/filepond@^4/dist/filepond.css" rel="stylesheet" />
<link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet" />

<!-- ✅ FilePond Scripts -->
<script src="https://unpkg.com/filepond@^4/dist/filepond.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>

<script>
  // Register plugin
  FilePond.registerPlugin(FilePondPluginImagePreview);

  // Initialize FilePond
  FilePond.create(document.querySelector('.filepond'), {
    allowMultiple: true,
    maxFiles: 5,
    allowImagePreview: true,
    imagePreviewHeight: 170,
    acceptedFileTypes: ['image/png', 'image/jpeg', 'image/gif'],
    labelIdle: 'Drag & Drop your images or <span class="filepond--label-action">Browse</span>'
  });
</script>

<!-- ✅ Custom Preview Grid Styling -->
<style>
  .filepond--item {
    width: calc(25% - 0.5em); /* 4 per row */
  }

  .filepond--list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5em;
  }
</style>

     <script>
  // On document ready
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("CategoryForm");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const formData = new FormData(form);

      // Append FilePond files manually
      const pondFiles = FilePond.find(document.querySelector('.filepond')).getFiles();
      pondFiles.forEach((file, index) => {
        formData.append("thumbnail[]", file.file);
      });
    })
  })
      </script>