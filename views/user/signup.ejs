<%- include('./partials/header') %>
<%- include('./partials/userHeader') %>
<body>
  <div class="signup-container">
    <header class="navbar"></header>

    <div class="login-form-box">
      <div class="logo">
        <a href="/" class="logo-dark d-inline-block">
          <img
            src="assets/images/logo-lightt.png"
            alt="Site Logo"
            style="height: 60px; width: 80px; display: block; margin: 0 auto;"
          />
        </a>
        <p>Create your account to explore traditional elegance</p>
      </div>

        <form id="signupForm" action="/signup" method="POST">
        <!-- Username -->
        <div class="input-wrapper">
          <input type="text" name="name" placeholder="Enter name"  autocomplete="off" required/>
          <span class="input-error-message" id="nameError"></span>
        </div>

        <!-- Email -->
        <div class="input-wrapper">
          <input type="email" name="email" placeholder="Enter email"  autocomplete="off" required/>
          <span class="input-error-message" id="emailError"></span>
        </div>

        <!-- Password -->
        <!-- Password -->
<div class="input-wrapper position-relative">
  <input
    type="password"
    id="psw-input"
    name="password"
    placeholder="Enter password"
    class="form-control fakepassword pe-5"
    autocomplete="new-password"
    required
  />
  <i
    class="fakepasswordicon fas fa-eye-slash"
    id="toggle-password"
    style="position: absolute; top: 30px; right: 15px; transform: translateY(-50%); cursor: pointer; color: #999;"
  ></i>

  <button type="button" class="btn btn-sm btn-outline-light mt-2" id="generate-password-btn">
    Generate Strong Password
  </button>

  <!-- Password Rules -->
  <div id="password-rules-container" class="d-none">
    <ul id="password-rules" class="text-danger small ps-3 mb-3" style="list-style: none;">
      <li id="rule-length">❌ Minimum 8 characters</li>
      <li id="rule-upper">❌ At least 1 uppercase letter</li>
      <li id="rule-lower">❌ At least 1 lowercase letter</li>
      <li id="rule-number">❌ At least 1 number</li>
      <li id="rule-special">❌ At least 1 special character (@, #, $, *)</li>
    </ul>
  </div>
</div>

<!-- Confirm Password -->
<div class="input-wrapper position-relative">
  <input
    type="password"
    id="confirm-password"
    name="confirmPassword"
    placeholder="Confirm password"
    disabled
    required
  />
  <i
    class="fakepasswordicon fas fa-eye-slash"
    id="toggle-confirm"
    style="position: absolute; top: 30px; right: 15px; transform: translateY(-50%); cursor: pointer; color: #999;"
  ></i>
</div>
        <button type="submit">Create Account</button>
      </form>

      <p class="login-text">
        Already have an account? <a href="/signin">Back to Login</a>
      </p>
    </div>
  </div>

</body>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const passwordInput = document.getElementById("psw-input");
    const confirmPasswordInput = document.getElementById("confirm-password");
    const generateBtn = document.getElementById("generate-password-btn");
    const ruleContainer = document.getElementById("password-rules-container");

    const rules = {
      length: document.getElementById("rule-length"),
      upper: document.getElementById("rule-upper"),
      lower: document.getElementById("rule-lower"),
      number: document.getElementById("rule-number"),
      special: document.getElementById("rule-special"),
    };

    // Show password rules on focus
    passwordInput.addEventListener("focus", () => {
      ruleContainer.classList.remove("d-none");
    });

    // Validate password input
    passwordInput.addEventListener("input", function () {
      const value = passwordInput.value;
      const conditions = {
        length: value.length >= 8,
        upper: /[A-Z]/.test(value),
        lower: /[a-z]/.test(value),
        number: /[0-9]/.test(value),
        special: /[@#$*]/.test(value),
      };

      Object.keys(conditions).forEach(key => {
        if (conditions[key]) {
          rules[key].classList.remove("text-danger");
          rules[key].classList.add("text-success");
          rules[key].textContent = "✅ " + rules[key].textContent.slice(2);
        } else {
          rules[key].classList.add("text-danger");
          rules[key].classList.remove("text-success");
          rules[key].textContent = "❌ " + rules[key].textContent.slice(2);
        }
      });

      const allValid = Object.values(conditions).every(Boolean);
      confirmPasswordInput.disabled = !allValid;
    });

    // Generate strong password
    generateBtn.addEventListener("click", () => {
      const upper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      const lower = "abcdefghijklmnopqrstuvwxyz";
      const numbers = "0123456789";
      const special = "@#$*";
      const all = upper + lower + numbers + special;

      let password = "";
      password += upper[Math.floor(Math.random() * upper.length)];
      password += lower[Math.floor(Math.random() * lower.length)];
      password += numbers[Math.floor(Math.random() * numbers.length)];
      password += special[Math.floor(Math.random() * special.length)];

      for (let i = password.length; i < 10; i++) {
        password += all[Math.floor(Math.random() * all.length)];
      }

      password = password.split("").sort(() => 0.5 - Math.random()).join("");

      passwordInput.value = password;
      passwordInput.dispatchEvent(new Event("input"));
      passwordInput.focus();
    });

    // Toggle password visibility (only for password field)
    const togglePassword = document.getElementById("toggle-password");
    togglePassword.addEventListener("click", function () {
      const type = passwordInput.type === "password" ? "text" : "password";
      passwordInput.type = type;
      this.classList.toggle("fa-eye-slash");
      this.classList.toggle("fa-eye");
    });

    // Toggle confirm password visibility
    const toggleConfirm = document.getElementById("toggle-confirm");
    toggleConfirm.addEventListener("click", function () {
      const type = confirmPasswordInput.type === "password" ? "text" : "password";
      confirmPasswordInput.type = type;
      this.classList.toggle("fa-eye-slash");
      this.classList.toggle("fa-eye");
    });
  });
</script>



<style>
    body {
  margin: 0;
  font-family: Arial, sans-serif;
  /* background-color: #111;*/
} 

.fakepasswordicon {
  cursor: pointer;
  color: #ccc;
}

.signup-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
}

.login-form-box {
  background-color: #222;
  padding: 2rem;
  border-radius: 10px;
  width: 100%;
  max-width: 400px;
  color: white;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}

.logo {
  text-align: center;
  margin-bottom: 1rem;
}

.logo img {
  display: block;
  margin: 0 auto;
}

.input-wrapper {
  margin-bottom: 1rem;
}

.input-wrapper input {
  width: 100%;
  /* padding: 10px; */
  font-size: 1rem;
  border-radius: 5px;
  border: 1px solid #ccc;
}

.input-error-message {
  color: red;
  font-size: 0.85rem;
  margin-top: 5px;
  display: block;
}

button {
  width: 100%;
  padding: 10px;
  background-color: #e91e63;
  color: white;
  font-size: 1rem;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background-color: #d81b60;
}

.login-text {
  text-align: center;
  margin-top: 1rem;
}

.login-text a {
  color: #4dd0e1;
  text-decoration: underline;
}
.signup-container {
  background-image: url('https://shorturl.at/vUzLE'); /* make sure this path is correct in public folder */
  background-size: cover;
  background-position: center;
  min-height: 100vh;
  position: relative;
  color: #fff;
}

</style>
   <footer class="axil-footer-area footer-style-2">
        <!-- Start Footer Top Area  -->
        <div class="footer-top separator-top">
            <div class="container">
                <div class="row">
                    <!-- Start Single Widget  -->
                    <div class="col-12 col-md-6 col-lg-5">
                        <div class="axil-footer-widget">
                            <h5 class="widget-title">Support</h5>
                            <!-- <div class="logo mb--30">
                            <a href="index.html">
                                <img class="light-logo" src="assets/images/logo/logo.png" alt="Logo Images">
                            </a>
                        </div> -->
                            <div class="inner">
                                </p>
                                <ul class="support-list-item">
                                    <li><i class="fa-solid fa-location-dot"></i>Kallanchari, Peruvemba, Kerala 678531</li>
                                    <li><a href="mailto:example@domain.com"><i class="fal fa-envelope-open"></i> harisreehandlooms@gmail.com</a></li>
                                    <li><a href="tel:(+01)850-315-5862"><i class="fal fa-phone-alt"></i> +919188019689</a></li>
                                                                           

                                    <!-- <li><i class="fal fa-map-marker-alt"></i> 685 Market Street,  <br> Las Vegas, LA 95820, <br> United States.</li> -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <script>
  // Load Google Translate API only once
  (function () {
    const scriptId = "google-translate-script";
    if (!document.getElementById(scriptId)) {
      const script = document.createElement("script");
      script.id = scriptId;
      script.src =
        "//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
      script.async = true;
      document.body.appendChild(script);
    }

    window.googleTranslateElementInit = function () {
      new window.google.translate.TranslateElement(
        {
          pageLanguage: "en",
          includedLanguages: "ml",
          autoDisplay: false,
        },
        "hidden_translate_container"
      );
    };
  })();

  function triggerMalayalam() {
    const select = document.querySelector("select.goog-te-combo");
    if (select) {
      select.value = "ml";
      select.dispatchEvent(new Event("change"));
    }
  }
</script>
                    <!-- End Single Widget  -->
                    <!-- Start Single Widget  -->
                    <div class="col-12 col-md-6 col-lg-3 offset-lg-1">
                        <div class="axil-footer-widget">
                            <h5 class="widget-title">Account</h5>
                            <div class="inner">
                                <ul>
                                    <li><a href="/account">My Account</a></li>
                                    <li><a href="/signup">Login / Register</a></li>
                                    <li><a href="/cart">Cart</a></li>
                                    <li><a href="/wishlist">Wishlist</a></li>
                                    <li><a href="/shop">Shop</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- End Single Widget  -->
                    <!-- Start Single Widget  -->
                    <div class="col-12 col-md-6 col-lg-3">
                        <div class="axil-footer-widget">
                            <h5 class="widget-title">Quick Link</h5>
                            <div class="inner">
                                <ul>
                                    <li><a href="/privacy-policy">Privacy Policy</a></li>
                                    <li><a href="/terms-of-service">Terms Of Service</a></li>
                                    <li><a href="/refund-policy">Refund Policy</a></li>
                                    <li><a href="/return-policy">Return Policy</a></li>
                                     <li><a href="/shipping-policy">Shipping Policy</a></li>
                                    <!-- <li><a href="#">FAQ</a></li> -->
                                    <!-- <li><a href="/contact">Contact</a></li> -->
                                    <!-- <li><a href="contact.html">Contact</a></li> -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- End Single Widget  -->
                    
                </div>
            </div>
        </div>
        <!-- End Footer Top Area  -->
        <!-- Start Copyright Area  -->
        <div class="copyright-area copyright-default separator-top">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-2">
                        <div class="social-share">
                            <li>
  <a href="https://wa.me/+919188019689" target="_blank" rel="noopener noreferrer" title="WhatsApp" style="font-size: 1.7rem; color: #25D366;">
    <i class="fab fa-whatsapp"></i>
  </a>
</li>
<li>
  <a href="https://www.instagram.com/harisree_handloom?igsh=bGRiNWJkand5b2sw" target="_blank" rel="noopener noreferrer" title="Instagram" style="font-size: 1.7rem; color: #E1306C;">
    <i class="fab fa-instagram"></i>
  </a>
</li>

<!-- Facebook -->
<li>
  <a href="https://www.facebook.com/share/16s1QQQv2Y/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" title="Facebook" style="font-size: 1.7rem; color: #1877F2;">
    <i class="fab fa-facebook-f"></i>
  </a>
</li>

<!-- YouTube -->
<li>
  <a href="https://youtube.com/@harisreehandloom?si=J7QhlJjbJwPEocIF" target="_blank" rel="noopener noreferrer" title="YouTube" style="font-size: 1.7rem; color: #FF0000;">
    <i class="fab fa-youtube"></i>
  </a>
</li>


<li>
<button
  onclick="triggerMalayalam()" title="change language" 
 
 style="background-color: transparent;" >
 <i class="fa-solid fa-globe ms-1 text-primary" style="font-size: 1.5rem; "></i>
</button>


<div id="hidden_translate_container" style="display: none;"></div>
                                        </li> 

                        </div>
                    </div>
                    <div class="col-xl-7 col-lg-12">
                        <div class="copyright-left d-flex flex-wrap justify-content-center">
                            <ul class="quick-link" style="list-style: none; display: block;">
                                <li>© 2025. All rights reserved by <a target="_blank" href="harisreehandlooms.com"> Harisree Handlooms</a></li>
                                <!-- <li>Designed And Developed By  <a target="_blank" href="https://www.keraladigitalpark.com">  Kerala Digital Park</a></li> -->
                                <li>Designed And Developed By Kerala Digital Park</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-12">
                        <div class="copyright-right d-flex flex-wrap justify-content-xl-end justify-content-center align-items-center">
                            <span class="card-text">Accept For</span>
                            <ul class="payment-icons-bottom quick-link">
                                <li><img src="assets/images/icons/cart/cart-1.png" alt="paypal cart"></li>
                                <li><img src="assets/images/icons/cart/cart-2.png" alt="paypal cart"></li>
                                <li><img src="assets/images/icons/cart/cart-5.png" alt="paypal cart"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Copyright Area  -->
    </footer>
    <!-- End Footer Area  -->

    <!-- JS
============================================ -->
    <!-- Modernizer JS -->
    <script src="assets/js/vendor/modernizr.min.js"></script>
    <!-- jQuery JS -->
    <script src="assets/js/vendor/jquery.js"></script>
    <!-- Bootstrap JS -->
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="assets/js/vendor/bootstrap.min.js"></script>
    <script src="assets/js/vendor/slick.min.js"></script>
    <script src="assets/js/vendor/js.cookie.js"></script>
    <!-- <script src="assets/js/vendor/jquery.style.switcher.js"></script> -->
    <script src="assets/js/vendor/jquery-ui.min.js"></script>
    <script src="assets/js/vendor/jquery.ui.touch-punch.min.js"></script>
    <script src="assets/js/vendor/jquery.countdown.min.js"></script>
    <script src="assets/js/vendor/sal.js"></script>
    <script src="assets/js/vendor/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/vendor/imagesloaded.pkgd.min.js"></script>
    <script src="assets/js/vendor/isotope.pkgd.min.js"></script>
    <script src="assets/js/vendor/counterup.js"></script>
    <script src="assets/js/vendor/waypoints.min.js"></script>

    <!-- Main JS -->
    <script src="assets/js/main.js"></script>